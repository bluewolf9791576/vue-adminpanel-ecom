<template>
  <va-form :id="id" :item="item" :saving.sync="saving" v-model="model">
    <v-row justify="center">
      <v-col sm="6">
        <base-material-card>
          <template v-slot:heading>
            <div class="display-2">
              {{ title }}
            </div>
          </template>
          <v-card-text>
            <%_ for (field of fields) { _%>
            <%_ if (["file", "image"].includes(field.type)) { _%>
            <va-file-input source="<%- field.name %>">
              <va-<%- field.type %>-field source="<%- field.name %>"<%- field.attrs ? ' ' + field.attrs : '' %> clearable></va-<%- field.type %>-field>
            </va-file-input>
            <%_ } else { _%>
            <va-<%- field.type %>-input source="<%- field.name %>"<%- field.attrs ? ' ' + field.attrs : '' %>></va-<%- field.type %>-input>
            <%_ } _%>
            <%_ } _%>
          </v-card-text>
          <va-save-button :saving="saving"></va-save-button>
        </base-material-card>
      </v-col>
    </v-row>
  </va-form>
</template>

<script>
export default {
  props: ["id", "title", "item"],
  data() {
    return {
      saving: false,
      model: {},
    };
  },
};
</script>
