# Internationalization

As seen on [Admin](admin) section, for all internationalization support, Vtec Admin will use a existing [Vue I18n](https://kazupon.github.io/vue-i18n/) instance. It's a simple module that will made use of key-value based JSON file for each locale. This package also support singular/plural format as well as advanced specialized locale format for numbers, currencies and dates.

## Vue I18n

You can just simply add it to your existing Vue CLI project by `vue add i18n`. It will generate for you the next file :

**`src/i18n.js`**

```js
import Vue from "vue";
import VueI18n from "vue-i18n";

Vue.use(VueI18n);

// ...locales autoloading...

export default new VueI18n({
  locale: process.env.VUE_APP_I18N_LOCALE || "en",
  fallbackLocale: process.env.VUE_APP_I18N_FALLBACK_LOCALE || "en",
  messages: loadLocaleMessages(),
});
```

:::tip DEFAULT LOCALE
Set locale config at `navigator.language.substr(0, 2)` if you want dynamically take user browser language.
:::

All locales will be stored inside `locales` directory by default, with one JSON file by language. Here will be stored notably all localized resources name and property labels under a specific format.

## UI

Then you can inject the Vue I18n instance into VA by simply importing the previous file. Finally load manually from VA the locales you want to support and include on your final JS admin library bunlde.

**`src/plugins/admin.js`**

```js
// ...

// UI locales your want to support
import { en, fr } from "vtec-admin/dist/locales";

// Vue I18n instance
import i18n from "@/i18n";

// ...

export default new VtecAdmin({
  // ...
  i18n,
  locales: { en, fr },
  // ...
});
```

> All localized UI labels of Vtec Admin will be injected into specific `va` i18n namespace in order to avoid any conflict with your own custom locales.

:::tip DEFAULT LOCALE
VA will take the default locale of Vue I18n, as setted above. If no suited locale found for current user, Vue I18n will fallback to a supported locale.
:::

:::tip SUPPORTED LOCALES
Actually only `en`and `fr` are provided into core.  
But you can easily create your own based on [this model](https://github.com/okami101/vtec-admin/blob/master/packages/admin/src/locales/en.json).
:::

### Vuetify

```js
import Vuetify from "vuetify/lib";
import en from "vuetify/es5/locale/en";
import fr from "vuetify/es5/locale/fr";
// ...

export default new Vuetify({
  lang: {
    locales: { en, fr },
    current: process.env.VUE_APP_I18N_LOCALE || "en",
  },
  // ...
});
```

## Resources

Until there, all default UI labels from VA

All localized resource specific labels should be added to your own i18n json locale (`src/locales/[locale].json` as default for vue-i18n), by following a specific structure. Example for `monsters` resource :

* For resource name : `resources.monsters.name`, should have both singular and plural format separated by a pipe.
* For each field label : `resources.monsters.fields.[my-field]`
* For each specific resource enum (choices) : `resources.monsters.enums.[my-enum]`, mostly used for radio and simple select fields and inputs as default choices if none has been set.

TODO Humanized

Sample :

```json
{
  "resources": {
    "users": {
      "name": "User | Users"
    },
    "monsters": {
      "name": "Monster | Monsters",
      "fields": {
        "name": "Name",
        "email": "Email"
      },
      "enums": {
        "category": {
          "history": "History",
          "novel": "Novel",
          "comics": "Comics"
        }
      }
    }
  }
}
```

## Resource translation

![translation](/assets/translation.png)

If you enable, a new query string with locale will be added on each api calls, it's up to you to handle it on backend.
